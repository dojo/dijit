<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>ColorPalette Test</title>

	<script src="../../boilerplate.js" data-dojo-config="extraLocale: ['en-us', 'es-mx']"></script>
	
	<!-- required: the default dijit theme: -->
		<link id="themeStyles" rel="stylesheet" href="../../../themes/claro/claro.css"/>

		<style>
			@import url(../../../themes/claro/document.css);
			@import url(../../css/dijitTests.css);
		</style>
	
	<!-- required: dojo.js -->
		<script type="text/javascript" src="../../../../dojo/dojo.js"
			data-dojo-config="isDebug: true"></script>
	
		<!-- only needed for alternate theme testing: -->
		<script type="text/javascript" src="../../_testCommon.js"></script>

	<script type="text/javascript">
		require(["doh/runner","dijit/registry","dojo/dom", "dojo/parser", "dijit/ColorPalette", "dojo/domReady!"],
				function(doh, registry, dom, parser, ColorPalette){

			setColor = function(color){
				var theSpan = dom.byId("outputSpan");
				theSpan.style.color = color;
				theSpan.innerHTML = color;
			};

			parser.parse();

			var date0 = new Date();
			var palette = new ColorPalette({palette: "7x10", id: "prog", dir: "rtl", "aria-label": "programatic label"}, "programPalette");
			console.log("creation time for 7x10 palette: " + (new Date() - date0) );
			
			// Add test=true to the URL to run unit tests.
			var test = /mode=test/i.test(window.location.href);
			
			function testWidgetDir(element, widgetDir){
				doh.is(registry.byId(element).dir, widgetDir);
			}
			
			doh.register("dijit.tests._BidiSupport.mirroring.test_ColorPalette, Body LTR , Widget RTL", [
			    {name:"Widget big Dir",runTest:function(){testWidgetDir("big","rtl");}},
			    {name:"Widget valuePreselected Dir", runTest:function(){testWidgetDir("valuePreselected","rtl");}},
				]);
			
			
			doh.run();
			
		});

	</script>
</head>

<body dir="ltr" class="claro" role="main">

	<h1 class="testTitle">dijit.ColorPalette test:</h1>

	<p>Large color palette (7x10), English tooltips:</p>
	<label for="beforeBig">label:</label><input id="beforeBig" value="for tabIndex testing"/>
	<div dir="rtl" id="big" data-dojo-type="dijit/ColorPalette" data-dojo-props='onChange:function(){ setColor(this.value); }, lang:"en-us", "aria-label":"This is the palette label"'></div>
	<label for="afterBig">Test color is:</label> <span id="outputSpan"></span>.
	<input id="afterBig" value="for tabIndex testing"/>

	<p>Small color palette (3x4), Spanish tooltips:</p>
	<label for="beforeSmall">label:</label><input id="beforeSmall" value="for tabIndex testing"/>
	<div dir="rtl" id="small" data-dojo-type="dijit/ColorPalette" data-dojo-props='palette:"3x4", lang:"es-mx","aria-label":"Small color palette"'></div>
	<label for="afterSmall">label:</label><input id="afterSmall" value="for tabIndex testing"/>

	<p>Default color palette (7x10) created programatically:</p>
	<div id="programPalette"></div>

	<p>ColorPalette with value pre-selected, using old style parser parameters:</p>
	<label for="beforeValuePreselected">label:"</label><input id="beforeValuePreselected" value="for tabIndex testing"/>
	<label for="valuePreselected">label for color palette</label><div dir="rtl" id="valuePreselected" dojoType="dijit.ColorPalette" value="#0000ff"></div>
	<label for="afterValuePreselected">label:</label><input id="afterValuePreselected" value="for tabIndex testing"/>
</body>
</html>
