<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>Typematic Test</title>
	<script type="text/javascript" src="../../../dojo/dojo.js"
		djConfig="isDebug: true, debugAtAllCosts: true"></script>
	<script type="text/javascript">
		dojo.require("dijit.util.typematic");
	</script>
<script>
	var lastCount = 0;
	function typematicCallBack(count, node, evt){
		var inputNode = document.getElementById('typematicInput');
		if (node == inputNode){
			key = "a";
		}else{
			key = "b";
		}
		if (count == -1){
			console.debug((lastCount+1) + ' ' + key + ' events');
		}else{
			lastCount = count;
			inputNode.value += key;
		}
		inputNode.focus();
	}
	dojo.addOnLoad(function(){
		var keyNode = document.getElementById('typematicInput');
		var mouseNode = document.getElementById('typematicButton');
		dijit.util.typematic.addKeyListener(keyNode, 
			{keyCode:dojo.keys.F10,ctrlKey:true},
			this, typematicCallBack, 200, 200);
		dijit.util.typematic.addMouseListener(mouseNode, 
			this, typematicCallBack, 0.9, 200);
		keyNode.focus(); // make it easier to type 
	});
</script>
</head>
<body style="background-color: #fff; color: black; padding: 0; margin: 0">

Press and hold the <b>ctrl+F10</b> keys to see a's typed (constant rate) in the input field,<br>
or left-mouse click the button and hold down to see b's typed (increasing rate) in the input field.<br>
<input id="typematicInput" size="500"><button id="typematicButton">to B or not to B</button>

</body>
</html>
